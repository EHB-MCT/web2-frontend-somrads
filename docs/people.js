(()=>{let e=[],n=[],t=[];console.log(n),window.onload=()=>{console.log("page loaded"),async function(){await fetch("https://swapi.dev/api/people").then((e=>e.json())).then((t=>{e=t.results,e.forEach((e=>{fetch(e.url).then((e=>e.json())).then((e=>{n.push(e)}))}))}))}(),setTimeout((function(){n.forEach((e=>{const n=document.getElementById("list-data"),t=document.createElement("div");t.classList.add("people");const a=`\n      <div class="swPerson">\n      <img src="/docs/images/${e.name}.jpeg" alt="${e.name}">\n      <div class="card">\n      <h2>${e.name}</h2>\n      <a href="#" id="${e.url}" class="btn btn-primary ">Add to list</a>\n      </div>\n      </div>\n      `;t.innerHTML=a,n.appendChild(t)})),document.querySelectorAll(".btn").forEach((e=>{e.addEventListener("click",(e=>{let a=e.target.id,o=n.find((e=>e.url==a));t.push(o),function(e){e.forEach((async e=>{console.log("clicked value",e),await fetch("https://web2-starwars-api.herokuapp.com/people",{method:"POST",header:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,birthyear:e.birthyear,species:e.species,gender:e.gender})}).then((e=>e.json())).then((e=>{console.log("succes",e)}))}))}(t)}))}))}),1e3)}})();